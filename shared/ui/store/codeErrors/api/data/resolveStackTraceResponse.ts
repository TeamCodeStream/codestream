import { ResolveStackTraceResponse } from "@codestream/protocols/agent";

export function getResolveStackTraceResponse(repoId: string): ResolveStackTraceResponse {
	return {
		resolvedStackInfo: {
			text: "TypeError: Cannot read properties of undefined (reading 'get')\n    at /app/src/data/usersRepository.js:51:23\n    at Array.reduce (<anonymous>)\n    at countUsersByState (/app/src/data/usersRepository.js:50:19)\n    at userStateReport (/app/src/data/usersRepository.js:57:10)\n    at fetchUserStateReport (/app/src/controllers/usersController.js:11:16)\n    at runInContextCb (/app/node_modules/newrelic/lib/shim/shim.js:1324:22)\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalContextManager.runInContext (/app/node_modules/newrelic/lib/context-manager/async-local-context-manager.js:65:36)\n    at WebFrameworkShim.applySegment (/app/node_modules/newrelic/lib/shim/shim.js:1314:25)\n    at _applyRecorderSegment (/app/node_modules/newrelic/lib/shim/shim.js:956:20)",
			lines: [],
			language: "javascript",
			header: "TypeError: Cannot read properties of undefined (reading 'get')",
			error: "Cannot read properties of undefined (reading 'get')",
			repoId: repoId,
			sha: "release-22",
			occurrenceId: "9bef4b5d-d0fb-11ee-91b3-faf14c8b1a88_38244_40016",
		},
		parsedStackInfo: {
			text: "TypeError: Cannot read properties of undefined (reading 'get')\n    at /app/src/data/usersRepository.js:51:23\n    at Array.reduce (<anonymous>)\n    at countUsersByState (/app/src/data/usersRepository.js:50:19)\n    at userStateReport (/app/src/data/usersRepository.js:57:10)\n    at fetchUserStateReport (/app/src/controllers/usersController.js:11:16)\n    at runInContextCb (/app/node_modules/newrelic/lib/shim/shim.js:1324:22)\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalContextManager.runInContext (/app/node_modules/newrelic/lib/context-manager/async-local-context-manager.js:65:36)\n    at WebFrameworkShim.applySegment (/app/node_modules/newrelic/lib/shim/shim.js:1314:25)\n    at _applyRecorderSegment (/app/node_modules/newrelic/lib/shim/shim.js:956:20)",
			lines: [
				{
					fileFullPath: "/app/src/data/usersRepository.js",
					method: "<unknown>",
					fullMethod: "<unknown>",
					arguments: [],
					line: 51,
					column: 23,
				},
				{
					fileFullPath: "<anonymous>",
					method: "reduce",
					namespace: "Array",
					fullMethod: "Array.reduce",
					arguments: [],
				},
				{
					fileFullPath: "/app/src/data/usersRepository.js",
					method: "countUsersByState",
					fullMethod: "countUsersByState",
					arguments: [],
					line: 50,
					column: 19,
				},
				{
					fileFullPath: "/app/src/data/usersRepository.js",
					method: "userStateReport",
					fullMethod: "userStateReport",
					arguments: [],
					line: 57,
					column: 10,
				},
				{
					fileFullPath: "/app/src/controllers/usersController.js",
					method: "fetchUserStateReport",
					fullMethod: "fetchUserStateReport",
					arguments: [],
					line: 11,
					column: 16,
				},
				{
					fileFullPath: "/app/node_modules/newrelic/lib/shim/shim.js",
					method: "runInContextCb",
					fullMethod: "runInContextCb",
					arguments: [],
					line: 1324,
					column: 22,
				},
				{
					fileFullPath: "node:async_hooks",
					method: "run",
					namespace: "AsyncLocalStorage",
					fullMethod: "AsyncLocalStorage.run",
					arguments: [],
					line: 346,
					column: 14,
				},
				{
					fileFullPath:
						"/app/node_modules/newrelic/lib/context-manager/async-local-context-manager.js",
					method: "runInContext",
					namespace: "AsyncLocalContextManager",
					fullMethod: "AsyncLocalContextManager.runInContext",
					arguments: [],
					line: 65,
					column: 36,
				},
				{
					fileFullPath: "/app/node_modules/newrelic/lib/shim/shim.js",
					method: "applySegment",
					namespace: "WebFrameworkShim",
					fullMethod: "WebFrameworkShim.applySegment",
					arguments: [],
					line: 1314,
					column: 25,
				},
				{
					fileFullPath: "/app/node_modules/newrelic/lib/shim/shim.js",
					method: "_applyRecorderSegment",
					fullMethod: "_applyRecorderSegment",
					arguments: [],
					line: 956,
					column: 20,
				},
			],
			language: "javascript",
			header: "TypeError: Cannot read properties of undefined (reading 'get')",
			error: "Cannot read properties of undefined (reading 'get')",
			repoId: repoId,
			sha: "release-22",
			occurrenceId: "9bef4b5d-d0fb-11ee-91b3-faf14c8b1a88_38244_40016",
		},
	};
}
